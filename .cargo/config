[alias]
rriscv32iamc = "run --release --target=riscv32iamc-unknown-none-elf --example"
rrv32iamc = "rriscv32iamc"
rriscv32imc = "run --release --target=riscv32imc-unknown-none-elf --example"
rrv32imc = "rriscv32imc"
rthumbv7em = "run --release --target=thumbv7em-none-eabi --example"
rtv7em = "rthumbv7em"

# Deny warnings on all architectures. build.rustflags cannot be used here as the lower section would override its effect.
[target.'cfg(all())']
rustflags = ["-D", "warnings"]

# Common settings for all embedded targets
[target.'cfg(any(target_arch = "arm", target_arch = "riscv32"))']
rustflags = [
    "-C", "relocation-model=static",
    "-C", "link-arg=-Tlayout.ld",
]
runner = "./flash.sh"
